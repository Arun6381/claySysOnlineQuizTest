@model ClaysysOnlineQuizTest.Models.SignUp

@{
    ViewBag.Title = "Login";
}

@if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
{
    <div class="alert alert-danger text-center">
        @ViewBag.ErrorMessage
    </div>
}

<link href="~/Content/CustomCss/Home/Login.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<h2 class="heading">Sign In</h2>
<div class="container">
    @using (Html.BeginForm("Login", "Login", FormMethod.Post, new { role = "form" }))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            @Html.LabelFor(m => m.EmailId)
            @Html.TextBoxFor(m => m.EmailId, new { id = "email", placeholder = "Email", @class = "input" })
            <span id="email-error" class="text-danger" style="display:none;"></span>
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.UserPassword)
            @Html.PasswordFor(m => m.UserPassword, new { id = "password", placeholder = "Password", @class = "input" })
            <span id="password-error" class="text-danger" style="display:none;"></span>
        </div>

        <div class="form-group text-center">
            <button type="submit" class="btn" id="loginbtn">Sign In</button>
        </div>
    }
</div>

<div class="text-center">
    <span>Don't have an account? </span>
    <a href="@Url.Action("Create", "SignUp")" style="color: orange;">Sign Up</a>
</div>

<script type="text/javascript">
    window.onload = function () {
        // Push a new state to ensure that there is a "current" state in the history
        history.pushState(null, null, location.href);

        // Listen for the popstate event, which triggers when the user tries to go back
        window.onpopstate = function () {
            // Push the same state back to prevent going back
            history.pushState(null, null, location.href);
        };
    };
</script>


<script src="~/Scripts/ClaySysQuizTest/Login.js"></script>
